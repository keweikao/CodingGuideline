
# Feature Specification: 21å¤©æ„›è‡ªå·±è¨ˆåŠƒ

**Feature Branch**: `004-app`  
**Created**: 2025-09-26  
**Status**: Draft  
**Input**: User description: "æ‰“é€ ä¸€å€‹æ¯æ—¥é™ªä¼´çš„Appï¼Œé€éå¯æ„›è§’è‰²å‚³éã€Œæ„›è‡ªå·±å°ä»»å‹™ã€ï¼Œè®“ä½¿ç”¨è€…åœ¨ç°¡å–®è¡Œå‹•ä¸­ç´¯ç©å¹¸ç¦æ„Ÿï¼Œä¸¦æå‡è‡ªæˆ‘èªåŒæ„Ÿï¼Œæ ¸å¿ƒé«”é©—éœ€è¦å…·å‚™ã€Œæé†’ â†’ è¡Œå‹• â†’ å›é¥‹ â†’ ç´¯ç©ã€ï¼Œä½¿ç”¨è€…æ¯å¤©æœ‰ä¸‰æ¬¡æ„›è‡ªå·±çš„ä»»å‹™ã€‚å°ˆæ¡ˆåç¨±ï¼š21å¤©æ„›è‡ªå·±è¨ˆåŠƒ"

## Clarifications

### Session 2025-09-26
- Q: ä½¿ç”¨è€…æ˜¯å¦éœ€è¦è¨»å†Šå¸³è™Ÿä¾†ä¿å­˜ä»–å€‘çš„é•·æœŸé€²åº¦ï¼Ÿ â†’ A: æ˜¯ï¼Œå¼·åˆ¶è¨»å†Šå¸³è™Ÿæ‰èƒ½ä½¿ç”¨ Appã€‚
- Q: æ¯æ—¥ä»»å‹™çš„å…§å®¹ä¾†æºæ˜¯ä»€éº¼ï¼Ÿ â†’ A: æ··åˆæ¨¡å¼ï¼šä¸»è¦ä¾†è‡ªé¡Œåº«ï¼Œä½†æœƒå‹•æ…‹èª¿æ•´ã€‚
- Q: 21 å¤©è¨ˆç•«çµæŸå¾Œï¼Œä½¿ç”¨è€…å¯ä»¥åšä»€éº¼ï¼Ÿ â†’ A: é€²å…¥ä¸€å€‹ã€ŒæŒçºŒæ¨¡å¼ã€ï¼Œæ¯å¤©ä»æœ‰ä»»å‹™ä½†æ²’æœ‰ç‰¹å®šçµ‚é»ã€‚
- Q: å¦‚æœä½¿ç”¨è€…ä¸­æ–·äº†é€£çºŒç´€éŒ„ï¼ˆä¾‹å¦‚ï¼Œä¸€å¤©æ²’æœ‰å®Œæˆä»»å‹™ï¼‰ï¼Œæ‡‰è©²å¦‚ä½•è™•ç†ï¼Ÿ â†’ A: å¯¬é¬†æ¨¡å¼ï¼šæä¾›ã€Œå‡çµç´€éŒ„ã€çš„é“å…·ï¼Œè®“ä½¿ç”¨è€…å¯ä»¥å¶çˆ¾æš«åœä¸€å¤©è€Œä¸æœƒä¸­æ–·é€£çºŒç´€éŒ„ã€‚
- Q: é—œæ–¼æ¯æ—¥çš„ä»»å‹™æé†’ï¼Œä½¿ç”¨è€…åå¥½å“ªç¨®æ–¹å¼ï¼Ÿ â†’ A: å¯è‡ªè¨‚æ™‚é–“ï¼šä½¿ç”¨è€…å¯ä»¥è‡ªè¡Œè¨­å®šåå¥½çš„æé†’æ™‚é–“ã€‚

---

## Execution Flow (main)
```
1. Parse user description from Input
   â†’ If empty: ERROR "No feature description provided"
2. Extract key concepts from description
   â†’ Identify: actors, actions, data, constraints
3. For each unclear aspect:
   â†’ Mark with [NEEDS CLARIFICATION: specific question]
4. Fill User Scenarios & Testing section
   â†’ If no clear user flow: ERROR "Cannot determine user scenarios"
5. Generate Functional Requirements
   â†’ Each requirement must be testable
   â†’ Mark ambiguous requirements
6. Identify Key Entities (if data involved)
7. Run Review Checklist
   â†’ If any [NEEDS CLARIFICATION]: WARN "Spec has uncertainties"
   â†’ If implementation details found: ERROR "Remove tech details"
8. Return: SUCCESS (spec ready for planning)
```

---

## âš¡ Quick Guidelines
- âœ… Focus on WHAT users need and WHY
- âŒ Avoid HOW to implement (no tech stack, APIs, code structure)
- ğŸ‘¥ Written for business stakeholders, not developers

---

## User Scenarios & Testing *(mandatory)*

### Primary User Story
ä½œç‚ºä¸€å€‹å¸Œæœ›æå‡è‡ªæˆ‘èªåŒæ„Ÿèˆ‡å¹¸ç¦æ„Ÿçš„ä½¿ç”¨è€…ï¼Œæˆ‘æƒ³è¦åƒèˆ‡ä¸€å€‹ç‚ºæœŸ 21 å¤©çš„ã€Œæ„›è‡ªå·±è¨ˆç•«ã€ã€‚æˆ‘å°‡ä½¿ç”¨ä¸€å€‹ Appï¼Œè£¡é¢æœƒæœ‰ä¸€å€‹å¯æ„›çš„è™›æ“¬è§’è‰²ï¼Œæ¯å¤©æé†’æˆ‘å®Œæˆä¸‰å€‹ç°¡å–®çš„ã€Œæ„›è‡ªå·±å°ä»»å‹™ã€ã€‚æ¯ç•¶æˆ‘å®Œæˆä»»å‹™å¾Œï¼Œæˆ‘æœƒæ”¶åˆ°æ­£å‘å›é¥‹ï¼Œä¸¦èƒ½çœ‹åˆ°æˆ‘çš„é€²åº¦ç´¯ç©ï¼Œå¾è€Œåœ¨ 21 å¤©çš„æ—…ç¨‹ä¸­ï¼Œæ„Ÿè¦ºåˆ°è‡ªå·±çš„é€²æ­¥å’Œåƒ¹å€¼ã€‚

### Acceptance Scenarios
1. **Given** ä½¿ç”¨è€…æ˜¯ç¬¬ä¸€æ¬¡é–‹å•Ÿ Appï¼Œ**When** çœ‹åˆ°è¨»å†Šç•«é¢ä¸¦å®Œæˆè¨»å†Šï¼Œ**Then** çœ‹åˆ°ã€Œ21å¤©æ„›è‡ªå·±è¨ˆåŠƒã€çš„ä»‹ç´¹ï¼Œä¸¦é–‹å§‹ç¬¬ä¸€å¤©çš„æŒ‘æˆ°ã€‚
2. **Given** ä½¿ç”¨è€…è¨­å®šäº†æ¯æ—¥æé†’æ™‚é–“ï¼Œ**When** æ™‚é–“åˆ°é”ï¼Œ**Then** æ”¶åˆ°ä»»å‹™æé†’ã€‚
3. **Given** ä½¿ç”¨è€…å®Œæˆä¸€å€‹ä»»å‹™ï¼Œ**When** åœ¨ App å…§æ¨™ç¤ºå®Œæˆï¼Œ**Then** æ”¶åˆ°å³æ™‚çš„æ­£é¢å›é¥‹ï¼ˆä¾‹å¦‚ï¼šå‹•ç•«ã€é¼“å‹µçš„è©±èªï¼‰ä¸”å¹¸ç¦æ„ŸæŒ‡æ¨™å¢åŠ ã€‚
4. **Given** ä½¿ç”¨è€…å®Œæˆä»Šæ—¥æ‰€æœ‰ä»»å‹™ï¼Œ**When** å›åˆ°ä¸»ç•«é¢ï¼Œ**Then** çœ‹åˆ°è§’è‰²è¡¨é”é–‹å¿ƒçš„æƒ…ç·’ï¼Œä¸¦é¡¯ç¤ºä»Šæ—¥çš„æˆå°±ç¸½çµã€‚
5. **Given** ä½¿ç”¨è€…é€£çºŒå¤šå¤©å®Œæˆä»»å‹™ï¼Œ**When** æŸ¥çœ‹é€²åº¦é é¢ï¼Œ**Then** èƒ½å¤ çœ‹åˆ°è‡ªå·±åœ¨ 21 å¤©è¨ˆç•«ä¸­çš„é€²åº¦ã€é€£çºŒç´€éŒ„å’Œç´¯ç©çš„å¹¸ç¦æ„Ÿåˆ†æ•¸ã€‚
6. **Given** ä½¿ç”¨è€…å®Œæˆ 21 å¤©è¨ˆç•«ï¼Œ**When** é€²å…¥ Appï¼Œ**Then** æ”¶åˆ°ä¸€ä»½ç‰¹åˆ¥çš„æˆå°±å ±å‘Šèˆ‡è§’è‰²çš„ç¥è³€ï¼Œä¸¦å¯é¸æ“‡é€²å…¥ã€ŒæŒçºŒæ¨¡å¼ã€ã€‚

### Edge Cases
- å¦‚æœä½¿ç”¨è€…æœªä½¿ç”¨ã€Œå‡çµç´€éŒ„ã€ä¸”ä¸€å¤©æœªå®Œæˆä»»å‹™ï¼Œå‰‡é€£çºŒç´€éŒ„æ­¸é›¶ï¼Œä½† 21 å¤©è¨ˆç•«çš„ç¸½é€²åº¦ä¸å—å½±éŸ¿ï¼ˆå³è¨ˆç•«ä¸æœƒå»¶é•·ï¼‰ã€‚
- ç•¶ä½¿ç”¨è€…åœ¨é›¢ç·šç‹€æ…‹ä¸‹å®Œæˆä»»å‹™æ™‚ï¼Œç³»çµ±æ‡‰å¦‚ä½•åŒæ­¥é€²åº¦ï¼Ÿ
- ä½¿ç”¨è€…å¯ä»¥é€éã€Œå‡çµç´€éŒ„ã€é“å…·ä¾†é¿å…å› å–®æ—¥æœªå®Œæˆä»»å‹™è€Œä¸­æ–·é€£çºŒç´€éŒ„ã€‚
- [NEEDS CLARIFICATION: ä»»å‹™çš„é›£æ˜“åº¦æˆ–é¡å‹æ˜¯å¦éœ€è¦å€‹äººåŒ–è¨­å®šï¼Ÿ]

## Requirements *(mandatory)*

### Functional Requirements
- **FR-001**: ç³»çµ± MUST æä¾›ä¸€å€‹è™›æ“¬è§’è‰²ä½œç‚ºä½¿ç”¨è€…çš„æ•¸ä½å¤¥ä¼´ã€‚
- **FR-002**: ç³»çµ± MUST è¦æ±‚ä½¿ç”¨è€…è¨»å†Šå¸³è™Ÿæ‰èƒ½ä½¿ç”¨ã€‚
- **FR-003**: ç³»çµ± MUST ä»¥ä¸€å€‹ 21 å¤©çš„é€±æœŸä¾†çµ„ç¹”æ ¸å¿ƒé«”é©—ã€‚
- **FR-004**: ç³»çµ± MUST åœ¨ 21 å¤©è¨ˆç•«çš„æ¯ä¸€å¤©ç”¢ç”Ÿä¸‰å€‹ã€Œæ„›è‡ªå·±å°ä»»å‹™ã€ã€‚
- **FR-005**: ç³»çµ± MUST ä½¿ç”¨æ··åˆæ¨¡å¼ç”¢ç”Ÿä»»å‹™ï¼šä¸»è¦ä¾†è‡ªå›ºå®šé¡Œåº«ï¼Œä¸¦æ ¹æ“šä½¿ç”¨è€…é€²åº¦é€²è¡Œå‹•æ…‹èª¿æ•´ã€‚
- **FR-006**: ç³»çµ± MUST å…è¨±ä½¿ç”¨è€…è‡ªè¨‚æ¯æ—¥ä»»å‹™çš„æé†’æ™‚é–“ã€‚
- **FR-007**: ä½¿ç”¨è€… MUST èƒ½å¤ å°‡ä»»å‹™æ¨™ç¤ºç‚ºã€Œå·²å®Œæˆã€ã€‚
- **FR-008**: ç³»çµ± MUST åœ¨ä½¿ç”¨è€…å®Œæˆä»»å‹™å¾Œæä¾›å³æ™‚çš„æ­£é¢å›é¥‹ã€‚
- **FR-009**: ç³»çµ± MUST è¨˜éŒ„ä¸¦å±•ç¤ºä½¿ç”¨è€…åœ¨ 21 å¤©è¨ˆç•«ä¸­çš„é€²åº¦ã€ä»»å‹™å®Œæˆæ­·å²èˆ‡ç´¯ç©çš„æˆå°±ã€‚
- **FR-010**: è™›æ“¬è§’è‰²çš„ç‹€æ…‹æˆ–åæ‡‰ MUST èƒ½åæ˜ ä½¿ç”¨è€…çš„ä»»å‹™å®Œæˆé€²åº¦ã€‚
- **FR-011**: ç³»çµ± MUST åœ¨ 21 å¤©è¨ˆç•«çµæŸå¾Œï¼Œç‚ºä½¿ç”¨è€…ç”Ÿæˆä¸€ä»½æˆå°±ç¸½çµå ±å‘Šã€‚
- **FR-012**: ç³»çµ± MUST åœ¨ 21 å¤©è¨ˆç•«çµæŸå¾Œï¼Œæä¾›ä¸€å€‹ã€ŒæŒçºŒæ¨¡å¼ã€ï¼Œè®“ä½¿ç”¨è€…å¯ä»¥ç¹¼çºŒæ¥æ”¶æ¯æ—¥ä»»å‹™ã€‚
- **FR-013**: ç³»çµ± MUST æä¾›ã€Œå‡çµç´€éŒ„ã€é“å…·ï¼Œå…è¨±ä½¿ç”¨è€…åœ¨ç‰¹å®šæ¢ä»¶ä¸‹ç¶­æŒé€£çºŒç´€éŒ„ï¼Œå³ä½¿æŸå¤©æœªå®Œæˆä»»å‹™ã€‚
- **FR-014**: è™›æ“¬è§’è‰²çš„ç‹€æ…‹ MUST æ ¹æ“šç•¶æ—¥ä»»å‹™å®Œæˆæƒ…æ³æ”¹è®Šï¼šå®Œæˆ 0 å€‹ä»»å‹™ç‚ºã€Œæ‚²å‚·ã€ï¼Œ1-2 å€‹ç‚ºã€Œä¸­æ€§ã€ï¼Œå…¨éƒ¨å®Œæˆç‚ºã€Œé–‹å¿ƒã€ã€‚

### Key Entities *(include if feature involves data)*
- **ä½¿ç”¨è€… (User)**: App çš„ä¸»è¦æ“ä½œè€…ï¼Œæ“æœ‰å€‹äººé€²åº¦èˆ‡è¨­å®šã€‚
- **è™›æ“¬è§’è‰² (Character)**: é™ªä¼´ä½¿ç”¨è€…ã€å‚³éä»»å‹™èˆ‡å›é¥‹çš„æ•¸ä½å¤¥ä¼´ã€‚
- **æ„›è‡ªå·±å°ä»»å‹™ (Self-Love Task)**: æ¯æ—¥ç”Ÿæˆçš„å…·é«”è¡Œå‹•æŒ‡ä»¤ã€‚
- **21å¤©è¨ˆç•« (21-Day Plan)**: æ ¸å¿ƒçš„ä½¿ç”¨è€…é«”é©—é€±æœŸï¼ŒåŒ…å«æ¯æ—¥ä»»å‹™èˆ‡æœ€çµ‚çš„æˆå°±ã€‚
- **ä½¿ç”¨è€…é€²åº¦ (User Progress)**: è¨˜éŒ„ä½¿ç”¨è€…åœ¨è¨ˆç•«ä¸­çš„ä»»å‹™å®Œæˆæ­·å²ã€é€£çºŒç´€éŒ„ã€ç´¯ç©çš„å¹¸ç¦æ„Ÿç­‰æ•¸æ“šã€‚

---

## Review & Acceptance Checklist
*GATE: Automated checks run during main() execution*

### Content Quality
- [ ] No implementation details (languages, frameworks, APIs)
- [ ] Focused on user value and business needs
- [ ] Written for non-technical stakeholders
- [ ] All mandatory sections completed

### Requirement Completeness
- [ ] No [NEEDS CLARIFICATION] markers remain
- [ ] Requirements are testable and unambiguous  
- [ ] Success criteria are measurable
- [ ] Scope is clearly bounded
- [ ] Dependencies and assumptions identified

---

## Execution Status
*Updated by main() during processing*

- [x] User description parsed
- [x] Key concepts extracted
- [x] Ambiguities marked
- [x] User scenarios defined
- [x] Requirements generated
- [x] Entities identified
- [ ] Review checklist passed

---
